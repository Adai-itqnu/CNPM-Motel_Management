<!-- Search Bar -->
<div class="search-container">
  <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
  </svg>
  <input type="text" placeholder="Tìm kiếm phòng, khách hàng..." />
</div>

<!-- Overview Header -->
<div class="section-header">
  <div>
    <p class="date-text">{{ currentDate }}</p>
    <h2>Tổng quan</h2>
  </div>
  <button class="refresh-button" (click)="refreshData()">Làm mới</button>
</div>

<!-- Error State -->
<div *ngIf="error" class="error-state">
  <p>{{ error }}</p>
  <button (click)="refreshData()">Thử lại</button>
</div>

<!-- Skeleton Loading -->
<div *ngIf="isLoading" class="skeleton-grid">
  <div class="skeleton-card" *ngFor="let i of [1,2,3]">
    <div class="skeleton-icon"></div>
    <div class="skeleton-text short"></div>
    <div class="skeleton-text long"></div>
  </div>
</div>

<!-- Stats Cards -->
<div *ngIf="!isLoading" class="stats-grid">
  <div class="stat-card" *ngFor="let stat of stats">
    <div class="stat-icon">
      <span class="material-icons">{{ stat.icon }}</span>
    </div>
    <div class="stat-content">
      <p class="stat-label">{{ stat.label }}</p>
      <h3 class="stat-value">{{ stat.value }}</h3>
      <div *ngIf="stat.trend" class="stat-trend" [class.trend-up]="stat.trendPositive" [class.trend-down]="!stat.trendPositive">
        <span>{{ stat.trend }}</span>
      </div>
    </div>
  </div>
</div>

<!-- Charts Section -->
<div class="charts-section">
  

  <!-- Donut Chart & Trend -->
  <div class="charts-row">
    <div class="chart-card">
      <h3>Trạng thái phòng</h3>
      <div class="donut-container">
        <svg width="180" height="180" viewBox="0 0 180 180">
          <defs>
            <linearGradient id="gradient1" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#667eea;stop-opacity:1"></stop>
              <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1"></stop>
            </linearGradient>
            <linearGradient id="gradient2" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#10b981;stop-opacity:1"></stop>
              <stop offset="100%" style="stop-color:#059669;stop-opacity:1"></stop>
            </linearGradient>
          </defs>
          <circle cx="90" cy="90" r="70" fill="none" stroke="#f1f5f9" stroke-width="30"></circle>
          <circle cx="90" cy="90" r="70" fill="none" stroke="url(#gradient1)" stroke-width="30" 
                  [attr.stroke-dasharray]="roomStatus.occupied + ' ' + (100 - roomStatus.occupied)" transform="rotate(-90 90 90)"></circle>
          <circle cx="90" cy="90" r="70" fill="none" stroke="url(#gradient2)" stroke-width="30" 
                  [attr.stroke-dasharray]="roomStatus.available + ' ' + (100 - roomStatus.available)" 
                  [attr.transform]="'rotate(' + (roomStatus.occupied * 3.6 - 90) + ' 90 90)'"></circle>
          <text x="90" y="85" text-anchor="middle" font-size="28" font-weight="700" fill="#1e293b">
            {{ roomStatus.total }}
          </text>
          <text x="90" y="105" text-anchor="middle" font-size="12" fill="#64748b">
            Tổng phòng
          </text>
        </svg>
        <div class="legend">
          <div class="legend-item">
            <span class="legend-color occupied"></span>
            <span>Đã thuê ({{ roomStatus.occupied }}%)</span>
          </div>
          <div class="legend-item">
            <span class="legend-color available"></span>
            <span>Còn trống ({{ roomStatus.available }}%)</span>
          </div>
        </div>
      </div>

      
    </div>
  </div>
</div>

