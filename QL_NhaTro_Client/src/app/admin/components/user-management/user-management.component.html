<div class="user-management">
    <!-- Header -->
  <div class="header">
    <h1>Quáº£n LÃ½ NgÆ°á»i DÃ¹ng</h1>
  </div>

  <!-- TÃ¬m kiáº¿m -->
  <div class="search-section">
    <input 
      type="text" 
      [(ngModel)]="searchText" 
      placeholder="TÃ¬m kiáº¿m theo tÃªn, email..."
      (keyup.enter)="onSearch()"
      class="search-input"
    />
    <button (click)="onSearch()" class="btn-search">
      ğŸ” TÃ¬m kiáº¿m
    </button>
  </div>

  <!-- ThÃ´ng bÃ¡o -->
  <div *ngIf="message" class="message">
    {{ message }}
  </div>

  <!-- Loading -->
  <div *ngIf="loading" class="loading">
    <div class="spinner"></div>
    <p>Äang táº£i...</p>
  </div>

  <!-- Báº£ng danh sÃ¡ch -->
  <div *ngIf="!loading" class="table-container">
    <table class="user-table">
      <thead>
        <tr>
          <th>TÃªn Ä‘Äƒng nháº­p</th>
          <th>Há» tÃªn</th>
          <th>Email</th>
          <th>Sá»‘ Ä‘iá»‡n thoáº¡i</th>
          <th>Vai trÃ²</th>
          <th>Tráº¡ng thÃ¡i</th>
          <th>NgÃ y táº¡o</th>
          <th>HÃ nh Ä‘á»™ng</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users">
          <td>{{ user.username }}</td>
          <td>{{ user.fullName }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.phone || 'ChÆ°a cÃ³' }}</td>
          <td>
            <span class="badge" [ngClass]="getRoleBadge(user.role)">
              {{ getRoleText(user.role) }}
            </span>
          </td>
          <td>
            <span class="badge" [ngClass]="getStatusBadge(user.isActive)">
              {{ getStatusText(user.isActive) }}
            </span>
          </td>
          <td>{{ formatDate(user.createdAt) }}</td>
          <td>
            <button 
              *ngIf="user.role !== 'Admin'"
              class="btn-toggle"
              [class.btn-lock]="user.isActive"
              [class.btn-unlock]="!user.isActive"
              (click)="toggleStatus(user)"
            >
              {{ user.isActive ? 'ğŸ”’ KhÃ³a' : 'ğŸ”“ Má»Ÿ' }}
            </button>
            <span *ngIf="user.role === 'Admin'" class="no-action">
              -
            </span>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Empty state -->
    <div *ngIf="users.length === 0" class="empty">
      <p>KhÃ´ng tÃ¬m tháº¥y ngÆ°á»i dÃ¹ng nÃ o</p>
    </div>
  </div>

  <!-- PhÃ¢n trang -->
  <div *ngIf="totalPages > 1" class="pagination">
    <button 
      [disabled]="currentPage === 1" 
      (click)="changePage(currentPage - 1)"
      class="btn-page"
    >
      â† TrÆ°á»›c
    </button>

    <span class="page-info">
      Trang {{ currentPage }} / {{ totalPages }}
    </span>

    <button 
      [disabled]="currentPage === totalPages" 
      (click)="changePage(currentPage + 1)"
      class="btn-page"
    >
      Sau â†’
    </button>
  </div>

  <!-- Tá»•ng sá»‘ -->
  <div class="footer-info">
    <p>Tá»•ng sá»‘: {{ total }} ngÆ°á»i dÃ¹ng</p>
  </div>
</div>