<div class="my-bills-container">
  <div class="page-header">
    <h1>H√≥a ƒê∆°n C·ªßa T√¥i</h1>
    <p class="subtitle">Qu·∫£n l√Ω v√† thanh to√°n h√≥a ƒë∆°n h√†ng th√°ng</p>
  </div>

  <!-- Stats Cards -->
  <div class="stats-row" *ngIf="!isLoading && bills.length > 0">
    <div class="stat-card">
      <span class="stat-value">{{ bills.length }}</span>
      <span class="stat-label">T·ªïng h√≥a ƒë∆°n</span>
    </div>
    <div class="stat-card pending">
      <span class="stat-value">{{ pendingCount }}</span>
      <span class="stat-label">Ch∆∞a thanh to√°n</span>
    </div>
    <div class="stat-card paid">
      <span class="stat-value">{{ paidCount }}</span>
      <span class="stat-label">ƒê√£ thanh to√°n</span>
    </div>
    <div class="stat-card total">
      <span class="stat-value">{{ formatCurrency(totalPending) }}</span>
      <span class="stat-label">C·∫ßn thanh to√°n</span>
    </div>
  </div>

  <!-- Filter Tabs -->
  <div class="filter-tabs" *ngIf="!isLoading && bills.length > 0">
    <button [class.active]="filterStatus === 'all'" (click)="setFilter('all')">T·∫•t c·∫£</button>
    <button [class.active]="filterStatus === 'Pending'" (click)="setFilter('Pending')">Ch∆∞a thanh to√°n</button>
    <button [class.active]="filterStatus === 'Paid'" (click)="setFilter('Paid')">ƒê√£ thanh to√°n</button>
  </div>

  <!-- Loading -->
  <div class="loading-state" *ngIf="isLoading">
    <div class="spinner"></div>
    <p>ƒêang t·∫£i...</p>
  </div>

  <!-- Error -->
  <div class="error-state" *ngIf="error && !isLoading">
    <p>{{ error }}</p>
    <button class="btn btn-primary" (click)="loadBills()">Th·ª≠ l·∫°i</button>
  </div>

  <!-- Empty State -->
  <div class="empty-state" *ngIf="!isLoading && !error && bills.length === 0">
    <div class="empty-icon">üìã</div>
    <h3>Ch∆∞a c√≥ h√≥a ƒë∆°n n√†o</h3>
    <p>H√≥a ƒë∆°n s·∫Ω xu·∫•t hi·ªán khi b·∫°n c√≥ ph√≤ng ƒëang thu√™</p>
  </div>

  <!-- Bills List -->
  <div class="bills-list" *ngIf="!isLoading && filteredBills.length > 0">
    <div class="bill-card" *ngFor="let bill of filteredBills">
      <div class="bill-header">
        <div class="bill-period">
          <span class="month">{{ getMonthYear(bill.month, bill.year) }}</span>
          <span class="room-name">{{ bill.roomName }}</span>
        </div>
        <span class="status-badge" [ngClass]="getStatusClass(bill.status)">
          {{ getStatusLabel(bill.status) }}
        </span>
      </div>

      <div class="bill-details">
        <div class="detail-row">
          <span class="label">Ti·ªÅn ph√≤ng:</span>
          <span class="value">{{ formatCurrency(bill.roomPrice) }}</span>
        </div>
        <div class="detail-row">
          <span class="label">Ti·ªÅn ƒëi·ªán:</span>
          <span class="value">{{ formatCurrency(bill.electricityTotal) }}</span>
        </div>
        <div class="detail-row">
          <span class="label">Ti·ªÅn n∆∞·ªõc:</span>
          <span class="value">{{ formatCurrency(bill.waterTotal) }}</span>
        </div>
        <div class="detail-row" *ngIf="bill.otherFees > 0">
          <span class="label">Ph√≠ kh√°c:</span>
          <span class="value">{{ formatCurrency(bill.otherFees) }}</span>
        </div>
        <div class="detail-row total">
          <span class="label">T·ªïng c·ªông:</span>
          <span class="value">{{ formatCurrency(bill.totalAmount) }}</span>
        </div>
      </div>

      <div class="bill-footer">
        <div class="dates">
          <span class="due-date">H·∫°n thanh to√°n: {{ formatDate(bill.dueDate) }}</span>
          <span class="paid-date" *ngIf="bill.paymentDate">ƒê√£ thanh to√°n: {{ formatDate(bill.paymentDate) }}</span>
        </div>
      </div>
    </div>
  </div>
</div>